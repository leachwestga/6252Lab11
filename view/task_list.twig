{{  include('shared/header.twig') }}
{{  include('shared/nav.twig') }}




<main>
    <!-- part 1: the errors -->

    {%  if errors|length > 0 %}
    <h2>Errors:</h2>
        <ul>
    {%  for error in errors %}
        <li>{{ error }}</li>
    {% endfor %}
        </ul>
    {% endif %}
    
  <!-- part 2: the tasks -->
    <h2>Tasks:</h2>
    {% if tasks|length == 0 %}
        <p>There are no tasks in the task list.</p>
    {% else %}
        <il>
        {%  set taskNum = 1 %}
        {%  for task in tasks %}
            <li>{{taskNum}}. 
                {% apply upper %}
                {{task['task']}}
                {% endapply %}
            </li>
        {% set taskNum = taskNum + 1 %}
        {% endfor %}
        </il>
    {% endif %}
        <ul>
            <br>

            
            
    <!-- part 3: the add form -->
    <h2>Add Task:</h2>
    <form action="." method="post" >
        <label>Task:</label>
        <input type="text" name="newtask" id="newtask"><br>
        <label>&nbsp;</label>
        <input type="submit" name="action" value="Add Task"><br>
    </form>
    <br>

    <!-- part 4: the delete form -->
    {%  if tasks|length > 0 %}
    <h2>Select Task:</h2>
    <form action="." method="post" >
        <label>Task:</label>
        <select name="taskid">
            {% for task in tasks %}
                <option value={{ task['taskID'] }}>
                    {{ task['task'] }}
                </option>
                {% endfor %}
            </select>
        <br>
        <label>&nbsp;</label>
        <input type="submit" name="action" value="Delete Task">
    </form>
    {% endif %}
    

</main>
</body>
</html>